<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Andy & Winston — A Crafted Story</title>
  <meta name="description" content="An elevated single-file story experience: refined layout, accessible interactions, rich sensory writing, and tasteful adult-facing romance." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Design tokens */
    :root{
      --bg: #fffaf8;
      --muted: #6b7280;
      --ink: #0f172a;
      --accent-1: #ff5c8a;
      --accent-2: #7c3aed;
      --glass: rgba(255,255,255,0.90);
      --card-shadow: 0 30px 80px rgba(2,6,23,0.12);
      --ease: cubic-bezier(.2,.9,.2,1);
    }

    /* Page base */
    html,body{ height:100%; }
    body{
      margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      background: radial-gradient(800px 260px at 8% 10%, rgba(124,58,237,0.04), transparent),
                  radial-gradient(700px 240px at 92% 86%, rgba(255,92,138,0.03), transparent),
                  linear-gradient(180deg,var(--bg),#fff 65%);
      color:var(--ink);
      line-height:1.6;
    }

    /* Layout */
    .wrap{ max-width:1100px; margin:0 auto; padding:36px 20px; }
    header{ position:sticky; top:0; z-index:40; background:linear-gradient(180deg,rgba(255,255,255,0.86),rgba(255,255,255,0.78)); backdrop-filter: blur(8px); border-bottom:1px solid rgba(2,6,23,0.04); }
    .nav{ max-width:1100px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 20px; }

    /* Brand */
    .brand{ display:flex; gap:12px; align-items:center; text-decoration:none; color:inherit; }
    .logo{ width:52px; height:52px; border-radius:12px; display:grid; place-items:center; color:white; font-weight:800; background:linear-gradient(135deg,var(--accent-1),var(--accent-2)); box-shadow:0 12px 34px rgba(2,6,23,0.12); }

    /* Ribbon */
    .ribbon{ height:10px; border-radius:999px; background: linear-gradient(90deg,var(--accent-1),#ff9a56,#ffd76a,#64e39e,#62d7ff,var(--accent-2)); box-shadow:0 12px 40px rgba(99,102,241,0.06); margin-top:18px; }

    /* Hero grid */
    .hero{ display:grid; grid-template-columns: 1fr 360px; gap:28px; align-items:start; margin-top:20px; }
    @media (max-width:1000px){ .hero{ grid-template-columns:1fr; } }

    .card{
      background: linear-gradient(180deg, var(--glass), rgba(255,255,255,0.86));
      border-radius:16px; padding:20px; box-shadow:var(--card-shadow); border:1px solid rgba(2,6,23,0.04);
    }

    .accent-title{ font-weight:900; font-size:clamp(1.5rem,3.6vw,2.25rem); background:linear-gradient(90deg,var(--accent-2),var(--accent-1)); -webkit-background-clip:text; color:transparent; line-height:1; }

    /* Typographic helpers */
    .lead { color:#111827; font-size:1.03rem; }
    .muted { color:var(--muted); }
    .small { font-size:0.9rem; color:var(--muted); }

    /* Kiss feature styling */
    .kiss{
      margin-top:18px; border-radius:18px; padding:22px;
      background: linear-gradient(180deg, rgba(255,255,255,0.99), rgba(255,249,249,0.98));
      box-shadow: 0 36px 100px rgba(2,6,23,0.12);
      border:1px solid rgba(2,6,23,0.03);
      transition: transform .28s var(--ease), box-shadow .28s var(--ease);
    }
    .kiss:hover{ transform: translateY(-6px); box-shadow: 0 48px 140px rgba(2,6,23,0.16); }

    .kiss h3{ margin:0 0 8px 0; font-weight:800; color:var(--accent-2); }
    .sensory{ color:#374151; font-style:normal; }

    /* sensory underline */
    .sensory-underline{ position:relative; display:inline-block; padding-bottom:2px; }
    .sensory-underline:after{ content:''; position:absolute; left:0; right:0; bottom:0; height:4px; border-radius:6px; background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); transform:scaleX(0); transform-origin:left; transition:transform .45s var(--ease); }
    .sensory-underline:hover:after{ transform:scaleX(1); }

    /* Timeline visuals */
    .timeline{ margin-top:26px; position:relative; padding-left:2.25rem; }
    .timeline:before{ content:''; position:absolute; left:0.85rem; top:0; bottom:0; width:5px; border-radius:999px; background: linear-gradient(180deg,var(--accent-2),#62d7ff); box-shadow:0 8px 30px rgba(99,102,241,0.06); }
    .tl-item{ position:relative; margin-bottom:14px; padding:14px; border-radius:12px; background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.95)); border:1px solid rgba(2,6,23,0.03); box-shadow:0 12px 34px rgba(2,6,23,0.06); }
    .tl-dot{ position:absolute; left:-1.05rem; top:1rem; width:44px; height:44px; border-radius:999px; display:grid; place-items:center; color:white; font-weight:800; transform:rotate(10deg); background:linear-gradient(135deg,var(--accent-1),var(--accent-2)); box-shadow:0 12px 30px rgba(2,6,23,0.12); }

    /* Modal */
    .modal-backdrop{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:80; background: rgba(2,6,23,0.5); backdrop-filter: blur(6px); }
    .modal{ width:92%; max-width:980px; border-radius:14px; padding:20px; background:white; box-shadow:0 30px 100px rgba(2,6,23,0.16); }

    /* Buttons */
    .btn{ display:inline-flex; align-items:center; gap:8px; border-radius:10px; padding:10px 14px; font-weight:700; cursor:pointer; border:0; }
    .btn-primary{ background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); color:white; box-shadow:0 12px 30px rgba(2,6,23,0.12); }
    .btn-ghost{ background:white; border:1px solid rgba(2,6,23,0.06); color:var(--ink); }

    /* Accessibility and micro interactions */
    .focus-ring:focus{ outline:3px solid rgba(124,58,237,0.12); outline-offset:4px; border-radius:10px; }
    .reveal-fade{ opacity:0; transform:translateY(8px); transition:opacity .6s var(--ease), transform .6s var(--ease); }
    .reveal-fade.visible{ opacity:1; transform:none; }

    @media (max-width:860px){
      .hero{ grid-template-columns:1fr; }
      .card{ padding:16px; }
      .kiss{ padding:16px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <a class="brand" href="#" aria-label="Andy and Winston home">
        <div class="logo" aria-hidden="true">AL</div>
        <div>
          <div style="font-weight:900; font-size:15px; background:linear-gradient(90deg,var(--accent-2),var(--accent-1)); -webkit-background-clip:text; color:transparent;">Andy & Winston</div>
          <div class="small muted">A crafted, sensory story</div>
        </div>
      </a>
      <div style="display:flex; gap:12px; align-items:center;">
        <nav class="small muted" aria-label="Primary">
          <a href="#story">Story</a> ·
          <a href="#romance">Romance</a> ·
          <a href="#timeline">Timeline</a>
        </nav>
        <button id="celebrate" class="btn btn-primary" aria-label="Celebrate">Celebrate</button>
      </div>
    </div>
  </header>

  <div class="wrap">
    <div class="ribbon" role="presentation"></div>

    <main class="hero" id="main">
      <section>
        <article class="card reveal-fade visible" style="transition-delay:0.05s;">
          <div style="display:flex; gap:14px; align-items:center;">
            <div style="width:72px; height:72px; border-radius:12px; background:linear-gradient(135deg,var(--accent-1),var(--accent-2)); display:grid; place-items:center; color:white; font-weight:900; font-size:20px;">AL</div>
            <div>
              <h1 class="accent-title">An Elevated Story — Andy & Winston</h1>
              <div class="small muted" style="margin-top:6px;">A single-page experience with refined design, accessibility, and a richly textured, tasteful romance.</div>
            </div>
          </div>

          <p class="lead" style="margin-top:16px;">
            This version emphasizes craft: precise sensory writing, clear consent language, accessible interactions, and polished visuals. Read the romance section for the full, Winston-centered scenes; use the timeline for contextual events and the modal excerpt for a focused micro-story.
          </p>

          <div style="margin-top:16px; display:flex; gap:10px; flex-wrap:wrap;">
            <a href="#romance" class="btn btn-primary">Read Winston Scenes</a>
            <a href="#timeline" class="btn btn-ghost">Explore Timeline</a>
          </div>
        </article>

        <!-- Full longform story content (structured narrative) -->
        <article id="story" class="card reveal-fade visible" style="margin-top:20px; transition-delay:0.12s;">
          <h2 style="font-weight:900; color:var(--accent-2); margin-bottom:8px;">Full Story (structured)</h2>

          <section style="margin-top:12px;">
            <h3 style="font-weight:800; color:#4f46e5;">Private Language and Early Acts</h3>
            <p class="muted" style="margin-top:10px;">
              Andy learned to observe with a private lexicon: adjectives for glances, verbs for small refusals, and rituals for testing feelings. He made zines as both practice and offering — small public objects born from private drafts.
            </p>
          </section>

          <section style="margin-top:12px;">
            <h3 style="font-weight:800; color:#4f46e5;">Meeting Winston</h3>
            <p class="muted" style="margin-top:10px;">
              Winston appeared first as a steady laugh across a stack of photocopies. The first exchanges were modest: a critique, a recipe, a mixtape. Over time these small acts became a scaffold for trust.
            </p>
          </section>
        </article>

        <!-- ROMANCE section with refined, longer kiss scene -->
        <section id="romance" class="reveal-fade visible" style="margin-top:20px; transition-delay:0.18s;">
          <h2 style="font-weight:900; color:var(--accent-2); margin-bottom:8px;">Romance — Winston-centered scenes</h2>
          <p class="small muted">Progressive scenes that lead to an expanded, sensory-first kiss sequence. Content is adult-facing; explicit sexual detail is intentionally avoided in favor of texture, consent, and consequence.</p>

          <!-- Lead-in -->
          <article class="card" style="margin-top:14px;">
            <h3 style="font-weight:800; color:#6d28d9;">Prelude — an ordinary day becomes private</h3>
            <p class="muted" style="margin-top:8px;">
              They spent the afternoon wandering alleys of secondhand books, trading marginalia and small revelations. The sky thickened; rain turned the city into polished metal. The world felt larger and, at the same time, narrower — a corridor built for two.
            </p>
          </article>

          <!-- The expanded kiss scene -->
          <article class="kiss" aria-labelledby="kiss-hed" style="margin-top:18px;">
            <h3 id="kiss-hed">The First Kiss — a step-by-step sensory sequence</h3>

            <!-- Setting and scaffolding -->
            <p class="sensory" style="margin-top:12px;">
              The bakery's light pooled golden onto wet cobbles. Steam rose from windows and the scent of browned butter threaded through the air. They sheltered beneath an awning. The rain's percussion created a private rhythm; each drop was a soft metronome that slowed thought and widened attention.
            </p>

            <!-- Consent as choreography -->
            <p class="muted" style="margin-top:12px;">
              Winston's approach was calibrated and conversational. He closed the minimal distance with a gesture — a thumb finding the back of Andy's hand — then held it there while awaiting a sign. The sign came not as a single word but as a choreography of micro-gestures: a steadying breath, a smile that softened rather than demanded, a tilt of the chin that invited alignment.
            </p>

            <!-- The first contact described carefully -->
            <p class="lead sensory" style="margin-top:12px;">
              The kiss started at the perimeter: a gentle press at the corner of the mouth, exploratory and exact. Their lips met with light pressure; it felt like tuning an instrument — a brief check for harmony. Winston's hand rested at the nape, warm and steady, but without pulling; Andy felt the texture of the collar under his palm and the faint damp of rain. Neither hurried. The contact lengthened only as both bodies welcomed the extension.
            </p>

            <!-- Micro details and anchors -->
            <p class="sensory-underline" style="margin-top:12px;">
              Memory kept the kiss as a constellation of precise details: the flaky sugar from the pastry on their lips; the slight scent of Winston's jacket after a summer storm; an off-key laugh from a street musician; the exact angle of the streetlight on Winston's cheek. These anchors make the scene portable — a set of cues Andy could summon to feel again the tenderness of that instant.
            </p>

            <!-- Emotional consequence -->
            <p class="muted" style="margin-top:12px;">
              What the kiss offered was permission: to be visible, to test desire safely, to practice consent in the moment. It didn't solve every question, but it provided proof — a lived experience — that vulnerability could be reciprocated and held kindly. Afterwards they checked in, spoke soft clarity, and laughed at how clumsy gratitude can feel.
            </p>

            <div class="small muted" style="margin-top:12px;">Journal snippet — "The rain wrote a poem across his shoulder and I understood, briefly and fully, that gentleness could be a practice."</div>
          </article>

          <!-- Aftermath scenes -->
          <article class="card" style="margin-top:18px;">
            <h3 style="font-weight:800; color:#6d28d9;">Aftermath — domestic rituals and repair</h3>
            <p class="muted" style="margin-top:8px;">
              In Winston's small kitchen, they established rituals: weekly check-ins, playful postcards, playlists for rainy evenings. When they erred they practiced repair — naming what happened and offering a specific apology. Those rituals transformed discrete tender moments into durable habits.
            </p>
          </article>
        </section>

      </section>

      <!-- side column: Winston profile & quick actions -->
      <aside>
        <div class="card" style="position:sticky; top:88px;">
          <div style="display:flex; gap:12px; align-items:center;">
            <div style="width:56px; height:56px; border-radius:12px; display:grid; place-items:center; color:white; background:linear-gradient(135deg,var(--accent-2),var(--accent-1)); font-weight:900;">W</div>
            <div>
              <div style="font-weight:800;">Winston</div>
              <div class="small muted" style="margin-top:6px;">Baker, reader, attentive; habit-maker and quiet co-conspirator</div>
            </div>
          </div>

          <div style="margin-top:12px;">
            <button id="openExcerpt" class="btn btn-ghost focus-ring" style="width:100%;">Read a Quiet Excerpt</button>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px;">
            <button id="copyQuote" class="btn btn-primary" title="Copy journal quote">Copy Quote</button>
            <button id="saveZine" class="btn btn-ghost">Save Snapshot</button>
          </div>

          <div style="margin-top:12px;" class="small muted">All interactive tools are local to this page and meant for exploration.</div>
        </div>
      </aside>
    </main>

    <!-- Timeline -->
    <section id="timeline" style="margin-top:34px;">
      <h2 style="font-weight:900; color:var(--accent-2); margin-bottom:10px;">Timeline (highlights)</h2>
      <div style="display:flex; gap:10px; margin-bottom:10px;">
        <input id="q" class="p-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-100" placeholder="Search timeline..." style="flex:1;" />
        <select id="phase" class="p-3 rounded-lg border border-gray-200">
          <option value="all">All</option><option value="recognition">Recognition</option><option value="romance">Romance</option><option value="art">Art</option><option value="ritual">Ritual</option>
        </select>
        <button id="searchTL" class="btn btn-ghost">Search</button>
      </div>

      <div class="timeline" id="timelineList" aria-live="polite"></div>
    </section>

    <!-- Contact -->
    <section id="contact" style="margin-top:34px;">
      <h2 style="font-weight:900; color:var(--accent-2); margin-bottom:8px;">Contact (demo)</h2>
      <p class="small muted">This demo stores messages locally in your browser.</p>

      <form id="contactForm" class="card" onsubmit="event.preventDefault(); sendMessage();" style="margin-top:12px; display:grid; gap:10px;">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
          <input id="name" placeholder="Your name" class="p-3 rounded-lg border border-gray-200 focus-ring" required />
          <input id="email" placeholder="Your email" type="email" class="p-3 rounded-lg border border-gray-200 focus-ring" required />
        </div>
        <input id="subject" placeholder="Subject (optional)" class="p-3 rounded-lg border border-gray-200 focus-ring" />
        <textarea id="message" rows="5" placeholder="Your message" class="p-3 rounded-lg border border-gray-200 focus-ring" required></textarea>
        <div style="display:flex; gap:10px; align-items:center;">
          <button type="submit" class="btn btn-primary">Send (demo)</button>
          <button id="saveDraft" type="button" class="btn btn-ghost">Save draft</button>
          <div id="status" class="small muted"></div>
        </div>
      </form>
    </section>

    <footer style="margin-top:40px; color:var(--muted); text-align:center; padding-bottom:40px;">Made with craft. Respect consent, privacy, and nuance.</footer>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <div style="font-weight:900; color:var(--accent-2);" id="modalTitle">Excerpt</div>
        <button id="closeModal" class="btn btn-ghost">Close</button>
      </div>
      <div id="modalBody" style="margin-top:12px;" class="muted"></div>
    </div>
  </div>

  <!-- Canvas for confetti -->
  <canvas id="confetti" style="position:fixed; inset:0; pointer-events:none; z-index:70;"></canvas>

  <script>
    // Timeline data
    const TIMELINE = [
      { id:1, year:'2006', phase:'recognition', title:'Private maps', desc:'Andy records small feelings in notebooks and playlists.' },
      { id:2, year:'2011', phase:'art', title:'First zine', desc:'Early collages and photocopies serve as practice to make private language public.' },
      { id:3, year:'2013', phase:'art', title:'Zine night meeting', desc:'Andy meets Winston over mis-shelved photocopies.' },
      { id:4, year:'2014', phase:'romance', title:'First long conversation', desc:'Three hours of talk that form an emotional foothold.' },
      { id:5, year:'2015', phase:'romance', title:'First kiss after rain', desc:'Beneath a bakery awning; careful, mutual, consent-first.' },
      { id:6, year:'2016', phase:'ritual', title:'Weekly check-ins', desc:'A Sunday ritual for honesty and gratitude.' },
      { id:7, year:'2018', phase:'art', title:'Zine collage', desc:'A collage zine using ticket stubs and pastry napkins.' },
      { id:8, year:'2020', phase:'community', title:'Pride together', desc:'They march together carrying a painted banner.' }
    ];

    // Render timeline
    const timelineList = document.getElementById('timelineList');
    function renderTimeline(filter='all', q=''){
      timelineList.innerHTML = '';
      const items = TIMELINE.filter(it => {
        const phaseMatch = filter === 'all' || it.phase === filter;
        const qMatch = !q || (it.title + ' ' + it.desc + ' ' + it.year).toLowerCase().includes(q.toLowerCase());
        return phaseMatch && qMatch;
      }).sort((a,b)=> a.year.localeCompare(b.year));

      if (!items.length) {
        timelineList.innerHTML = '<div class="muted">No events match your search.</div>';
        return;
      }

      items.forEach(it => {
        const node = document.createElement('div');
        node.className = 'tl-item';
        node.innerHTML = `
          <div class="tl-dot" aria-hidden="true">${escape(it.year)}</div>
          <div style="font-weight:800; color:#4f46e5;">${escape(it.title)}</div>
          <div class="muted" style="margin-top:6px;">${escape(it.desc)}</div>
          <div style="margin-top:8px;"><button class="btn btn-ghost read-btn" data-id="${it.id}">Read</button></div>
        `;
        node.querySelector('.read-btn').addEventListener('click', ()=> openModal(it));
        timelineList.appendChild(node);
      });
    }
    renderTimeline();

    // search handlers
    document.getElementById('searchTL')?.addEventListener('click', ()=> {
      const q = document.getElementById('q').value.trim();
      const f = document.getElementById('phase').value;
      renderTimeline(f,q);
    });

    // Modal controls
    const modal = document.getElementById('modal');
    const modalBody = document.getElementById('modalBody');
    const modalTitle = document.getElementById('modalTitle');
    document.getElementById('closeModal').addEventListener('click', closeModal);

    function openModal(item){
      modalTitle.textContent = `${item.title} — ${item.year}`;
      modalBody.innerHTML = `<p>${escape(item.desc)}</p><p style="margin-top:12px;" class="muted">Context: this moment appears in Andy's zines and conversations as a lesson in consent and the craft of small rituals.</p>`;
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(){
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden','true');
      modalBody.innerHTML = '';
      document.body.style.overflow = '';
    }
    window.addEventListener('keydown', (e)=> { if (e.key === 'Escape' && modal.style.display === 'flex') closeModal(); });

    // Excerpt button
    document.getElementById('openExcerpt')?.addEventListener('click', ()=> {
      modalTitle.textContent = 'Excerpt — A small kitchen, late night';
      modalBody.innerHTML = `<p class="muted">The lamp made a safe circle on Winston's table. A record spun; they shared a pastry and small conspiracies. Winston whispered a carefully chosen joke and the whisper lingered like a secret handshake. The intimacy felt domestic and miraculous.</p>`;
      modal.style.display = 'flex'; modal.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden';
    });

    // Copy quote (client-side)
    document.getElementById('copyQuote')?.addEventListener('click', async ()=> {
      const text = "Winston's laugh after the kiss sounded like permission. I pressed the memory into a zine page and it still smells like rain.";
      try {
        await navigator.clipboard.writeText(text);
        flashStatus('Quote copied to clipboard.');
      } catch {
        flashStatus('Unable to copy. Select and copy manually.');
      }
    });

    // Save snapshot (pretend local action)
    document.getElementById('saveZine')?.addEventListener('click', ()=> {
      flashStatus('Snapshot saved locally (demo).');
    });

    // Contact save/send (local)
    function sendMessage(){
      const payload = {
        name: document.getElementById('name').value || '',
        email: document.getElementById('email').value || '',
        subject: document.getElementById('subject').value || '',
        message: document.getElementById('message').value || '',
        time: new Date().toISOString()
      };
      const arr = JSON.parse(localStorage.getItem('andy_msgs') || '[]');
      arr.unshift(payload);
      localStorage.setItem('andy_msgs', JSON.stringify(arr));
      flashStatus('Message saved locally. Thank you.');
      burstConfetti();
      document.getElementById('contactForm').reset();
    }

    document.getElementById('saveDraft')?.addEventListener('click', ()=> {
      const draft = {
        name: document.getElementById('name').value || '',
        email: document.getElementById('email').value || '',
        subject: document.getElementById('subject').value || '',
        message: document.getElementById('message').value || '',
        savedAt: new Date().toISOString()
      };
      localStorage.setItem('andy_draft', JSON.stringify(draft));
      flashStatus('Draft saved locally.');
    });

    function flashStatus(msg){
      const el = document.getElementById('status');
      el.textContent = msg;
      setTimeout(()=> el.textContent = '', 3500);
    }

    // Confetti effect (lightweight)
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
    addEventListener('resize', resize); resize();
    let particles = [];
    function burstConfetti(){
      const colors = ['#ff5c8a','#ff9a56','#ffd76a','#64e39e','#62d7ff','#7c3aed'];
      for (let i=0;i<120;i++){
        particles.push({
          x: Math.random()*canvas.width,
          y: -10 - Math.random()*200,
          vx: (Math.random()-0.5)*8,
          vy: 2 + Math.random()*6,
          size: 6 + Math.random()*12,
          color: colors[Math.floor(Math.random()*colors.length)],
          rot: Math.random()*360,
          vr: (Math.random()-0.5)*12,
          life: 120 + Math.floor(Math.random()*120)
        });
      }
      requestAnimationFrame(step);
    }
    function step(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      particles.forEach(p=>{
        p.x += p.vx; p.y += p.vy; p.vy += 0.12; p.rot += p.vr; p.life--;
        ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180); ctx.fillStyle = p.color; ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6); ctx.restore();
      });
      particles = particles.filter(p => p.life>0 && p.y < canvas.height + 100);
      if (particles.length) requestAnimationFrame(step);
      else ctx.clearRect(0,0,canvas.width,canvas.height);
    }

    document.getElementById('celebrate')?.addEventListener('click', burstConfetti);

    // small helper
    function escape(s){ if (!s) return ''; return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

    // Accessibility: reveal animations when in view
    document.addEventListener('DOMContentLoaded', ()=> {
      document.querySelectorAll('.reveal-fade').forEach((el, i) => {
        setTimeout(()=> el.classList.add('visible'), 120 * (i+1));
      });
      // restore draft if present
      try {
        const d = JSON.parse(localStorage.getItem('andy_draft') || 'null');
        if (d){
          document.getElementById('name').value = d.name || '';
          document.getElementById('email').value = d.email || '';
          document.getElementById('subject').value = d.subject || '';
          document.getElementById('message').value = d.message || '';
        }
      } catch(e){}
    });

  </script>
</body>
</html>
